import random
import math

def write_tsp_file(filename, name, comment, node_coords):
    with open(filename, 'w') as f:
        f.write(f"NAME : {name}\n")
        f.write(f"COMMENT : {comment}\n")
        f.write("TYPE : TSP\n")
        f.write(f"DIMENSION : {len(node_coords)}\n")
        f.write("EDGE_WEIGHT_TYPE : EUC_2D\n")
        f.write("NODE_COORD_SECTION\n")
        for node in node_coords:
            node_id, x, y = node
            f.write(f"{node_id} {x} {y}\n")
        f.write("EOF\n")

def generate_random_coordinates(num_nodes, x_range=(0, 1000), y_range=(0, 1000)):
    return [(i + 1, random.randint(*x_range), random.randint(*y_range)) for i in range(num_nodes)]

def generate_star_shape_nodes(center_x=150, center_y=150, outer_radius=100, inner_radius=40, num_points=10):
    coords = []
    angle_step = math.pi / num_points

    for i in range(num_points * 2):
        radius = outer_radius if i % 2 == 0 else inner_radius
        angle = i * angle_step - math.pi / 2
        x = int(center_x + radius * math.cos(angle))
        y = int(center_y + radius * math.sin(angle))
        coords.append((i + 1, x, y))
    
    return coords

def main():
    tsp_name = "jam20"
    comment = "Generated by Jaemin Kim (20211061)"
    num_nodes = 20

    # random.seed(20211061)
    # coords = generate_random_coordinates(num_nodes, x_range=(0, 300), y_range=(0, 300))
    coords = generate_star_shape_nodes()
    write_tsp_file("jam20.tsp", tsp_name, comment, coords)



if __name__ == "__main__":
    main()